<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>chat</title>
  </head>
  <body>
    <h2>Your Name: %s</h2>
    <h2>Room Name: %s</h2>
    <input type="text" id="messageText" autocomplete="off"/>
    <button onclick="sendMessage(event)">Send</button>
    <ul id='messages'>
    </ul>
    <script>
      let url = `ws://localhost:80/ws/%d/%s`;
      console.log(url);
      var ws = new WebSocket(url);
      ws.onmessage = function(event) {
              var messages = document.getElementById('messages')
              var message = document.createElement('li')
              var content = document.createTextNode(event.data)
              message.appendChild(content)
              messages.appendChild(message)
            };
      function sendMessage(event) {
              var input = document.getElementById("messageText")
              ws.send(input.value)
              input.value = ''
              // event.preventDefault()
            }
    </script>
  </body>
</html>
